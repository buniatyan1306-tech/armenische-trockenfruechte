<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Armenische Trockenfr√ºchte</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: #faf7f2;
      color: #222;
      transition: background 0.3s, color 0.3s;
    }
    body.dark { background: #222; color: #eee; }

    header {
      background: linear-gradient(90deg,#9c4d2d,#d07a42);
      color:#fff;text-align:center;
      padding: 24px 12px;
    }
    header h1 { margin:0;font-size:1.9rem }

    .intro {
      text-align:center;margin:20px auto;max-width:700px;color:#555;font-size:1.1rem
    }
    body.dark .intro {color:#ccc}

    /* Slider */
    .slider {max-width:1000px;margin:20px auto;overflow:hidden;border-radius:12px}
    .slides {display:flex;transition:transform 0.6s ease}
    .slide {min-width:100%;text-align:center}
    .slide img {width:100%;height:400px;object-fit:cover}

    /* Grid Produkte */
    .grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;max-width:1200px;margin:20px auto;padding:0 12px}
    .card {background:#fff;border-radius:14px;box-shadow:0 4px 12px rgba(0,0,0,0.08);overflow:hidden;transition:.2s}
    body.dark .card {background:#333}
    .card:hover{transform:translateY(-6px);box-shadow:0 10px 20px rgba(0,0,0,0.15)}
    .thumb{width:100%;height:180px;object-fit:cover;cursor:pointer;transition:transform 0.3s}
    .thumb:hover{transform:scale(1.05)}
    .card-body{padding:14px}
    .card h2{margin:0 0 10px;font-size:1.2rem;color:#333}
    body.dark .card h2 {color:#eee}
    .prices{color:#777;line-height:1.4;margin-bottom:12px}
    body.dark .prices{color:#bbb}

    .btns{display:flex;gap:10px}
    .btn{flex:1;padding:10px;border-radius:8px;cursor:pointer;font-weight:600;border:none;font-size:.95rem;display:flex;align-items:center;justify-content:center;gap:6px}
    .yes{background:#2d8659;color:#fff}
    .yes:disabled{opacity:.7}
    .no{background:#e04f4f;color:#fff}

    footer{margin-top:40px;padding:20px;text-align:center;color:#777;font-size:.9rem}
    body.dark footer{color:#aaa}

    /* Lightbox */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;z-index:1000}
    .overlay.show{display:flex}
    .overlay img{max-width:90%;max-height:80vh;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.5)}
    .close-btn{position:absolute;top:20px;right:20px;background:#fff;border:none;border-radius:50%;width:40px;height:40px;cursor:pointer;font-size:18px}

    /* Feedback Modal */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1100;background:rgba(0,0,0,.6)}
    .modal.show{display:flex}
    .modal-content{background:#fff;border-radius:14px;padding:20px;max-width:400px;width:92%;box-shadow:0 6px 20px rgba(0,0,0,.2);animation:pop .3s ease}
    body.dark .modal-content{background:#333;color:#eee}
    @keyframes pop{from{transform:scale(.8);opacity:.5}to{transform:scale(1);opacity:1}}
    .modal h3{margin:0 0 14px;font-size:1.2rem;color:#444}
    body.dark .modal h3{color:#fff}
    .reasons{display:grid;gap:8px;margin-bottom:12px}
    .reason{padding:10px;border:1px solid #ddd;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px;font-size:.95rem}
    .reason:hover{background:#f8f8f8}
    body.dark .reason{border:1px solid #666}
    textarea{width:100%;min-height:60px;border-radius:8px;padding:8px;border:1px solid #ccc}
    body.dark textarea{background:#444;color:#eee;border:1px solid #888}
    .submit{margin-top:12px;width:100%;background:#2d8659;color:#fff;padding:10px;border:none;border-radius:8px;cursor:pointer;font-weight:600}

    /* Toast */
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:20px;background:#333;color:#fff;padding:10px 16px;border-radius:8px;display:none;z-index:1200}
    .toast.show{display:block;animation:fade 2.5s forwards}
    @keyframes fade{0%{opacity:1}80%{opacity:1}100%{opacity:0}}

    /* Sticky Feedback */
    .sticky-feedback {
      position:fixed;bottom:20px;right:20px;z-index:1500;
      background:#d07a42;color:#fff;padding:12px 16px;
      border-radius:30px;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,0.3);
    }

    /* Darkmode Button */
    .darkmode-toggle {
      position:fixed;top:20px;right:20px;z-index:1500;
      background:#444;color:#fff;padding:10px 14px;border-radius:30px;cursor:pointer;font-size:.9rem
    }

    /* Top Rating Box */
    .rating-box {
      text-align:center;background:#fff;padding:16px;margin:20px auto;
      border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1);max-width:400px;
    }
    body.dark .rating-box{background:#333;color:#fff}
  </style>
</head>
<body>

<header>
  <h1>üçë Armenische Trockenfr√ºchte</h1>
</header>

<div class="intro">
  Willkommen! üòä Dies ist ein Test: W√ºrden Sie Trockenfr√ºchte aus Armenien kaufen?<br/>
  Klicken Sie auf ‚ÄûJa‚Äú oder ‚ÄûNein‚Äú und teilen Sie uns Ihre Meinung mit.
</div>

<!-- Slider -->
<div class="slider">
  <div class="slides" id="slides">
    <div class="slide"><img src="assets/apricots.jpg" alt="Aprikosen"></div>
    <div class="slide"><img src="assets/mango.jpg" alt="Mango"></div>
    <div class="slide"><img src="assets/tomatoes.jpg" alt="Tomaten"></div>
  </div>
</div>

<!-- Top Rating Box -->
<div class="rating-box" id="ratingBox">
  üëç Schon <b id="yesCount">0</b> Personen haben gesagt, dass sie kaufen w√ºrden!
</div>

<!-- Produkte -->
<div class="grid">
  <div class="card" data-id="apricots" data-name="Getrocknete Aprikosen">
    <img src="assets/apricots.jpg" class="thumb" alt="Aprikosen" onclick="openLightbox(this)">
    <div class="card-body">
      <h2>Getrocknete Aprikosen</h2>
      <div class="prices">250g ‚Äì 4,99 ‚Ç¨<br>500g ‚Äì 8,99 ‚Ç¨<br>1000g ‚Äì 14,99 ‚Ç¨</div>
      <div class="btns">
        <button class="btn yes" onclick="handleYes(this)">‚úÖ Ja</button>
        <button class="btn no" onclick="openFeedback('apricots')">‚ùå Nein</button>
      </div>
    </div>
  </div>
  <div class="card" data-id="mango" data-name="Getrocknete Mango">
    <img src="assets/mango.jpg" class="thumb" alt="Mango" onclick="openLightbox(this)">
    <div class="card-body">
      <h2>Getrocknete Mango</h2>
      <div class="prices">250g ‚Äì 4,99 ‚Ç¨<br>500g ‚Äì 8,99 ‚Ç¨<br>1000g ‚Äì 14,99 ‚Ç¨</div>
      <div class="btns">
        <button class="btn yes" onclick="handleYes(this)">‚úÖ Ja</button>
        <button class="btn no" onclick="openFeedback('mango')">‚ùå Nein</button>
      </div>
    </div>
  </div>
</div>

<!-- Lightbox -->
<div class="overlay" id="overlay">
  <button class="close-btn" onclick="closeLightbox()">‚úï</button>
  <img id="lightboxImg" src="">
</div>

<!-- Feedback Modal -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h3>Warum nicht? ü§î</h3>
    <form id="feedbackForm" onsubmit="submitFeedback(event)">
      <div class="reasons">
        <label class="reason"><input type="radio" name="reason" value="Zu teuer"> üí∏ Zu teuer</label>
        <label class="reason"><input type="radio" name="reason" value="Kein Interesse"> üòê Kein Interesse</label>
        <label class="reason"><input type="radio" name="reason" value="Mag ich nicht"> üö´ Mag ich nicht</label>
        <label class="reason"><input type="radio" name="reason" value="Sonstiges"> ‚úçÔ∏è Sonstiges</label>
      </div>
      <textarea name="note" placeholder="Dein Grund (optional)"></textarea>
      <input type="hidden" name="productId" id="feedbackProduct">
      <button type="submit" class="submit">Absenden</button>
    </form>
  </div>
</div>

<div class="toast" id="toast">Danke f√ºr deine Antwort! üéâ</div>

<footer>Dies ist nur ein Test. Wir sammeln anonymes Feedback. ¬© 2025</footer>

<!-- Sticky Buttons -->
<div class="sticky-feedback" onclick="openFeedback('general')">üí¨ Feedback geben</div>
<div class="darkmode-toggle" onclick="toggleDarkmode()">üåô Darkmode</div>

<script>
const SHEET_URL = "YOUR_SHEET_URL_HERE"; // hier deine Google Apps Script URL einf√ºgen

function sendToSheet(product, answer, reason="", note="") {
  fetch(SHEET_URL, {
    method: "POST",
    body: JSON.stringify({ 
      product: product,
      answer: answer,
      reason: reason,
      note: note
    }),
    headers: { "Content-Type": "application/json" }
  })
  .then(() => console.log("Gesendet:", product, answer, reason, note))
  .catch(err => console.error("Fehler:", err));
}

let yesCount=0;

function handleYes(btn){
  let card = btn.closest(".card");
  let product = card.dataset.name;
  btn.textContent="üéâ Danke!";
  btn.disabled=true;
  showToast("Vielen Dank! Wir haben dein Interesse notiert üôå");
  sendToSheet(product,"Ja");
  yesCount++;
  document.getElementById("yesCount").innerText=yesCount;
}

function openFeedback(id){
  document.getElementById("feedbackProduct").value=id;
  document.getElementById("modal").classList.add("show");
}
function submitFeedback(e){
  e.preventDefault();
  let data=new FormData(e.target);
  let reason=data.get("reason")||"";
  let note=data.get("note")||"";
  let prod=data.get("productId");
  showToast("Danke f√ºr dein Feedback üôè");
  document.getElementById("modal").classList.remove("show");
  sendToSheet(prod,"Nein",reason,note);
}

function openLightbox(img){
  document.getElementById("lightboxImg").src=img.src;
  document.getElementById("overlay").classList.add("show");
}
function closeLightbox(){ document.getElementById("overlay").classList.remove("show"); }

function showToast(msg){
  let t=document.getElementById("toast");
  t.textContent=msg;
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"),2500);
}

// Slider auto
let slideIndex=0;
setInterval(()=>{
  const slides=document.getElementById("slides");
  slideIndex=(slideIndex+1)%slides.children.length;
  slides.style.transform=`translateX(-${slideIndex*100}%)`;
},4000);

// Darkmode toggle
function toggleDarkmode(){ document.body.classList.toggle("dark"); }
</script>
</body>
</html>
